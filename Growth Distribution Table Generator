#This file produces tables that show the percentage of students in each domain, grade, and year that fall into a given growth quintile 

# > sessionInfo()
# R version 3.2.3 (2015-12-10)
# Platform: i386-w64-mingw32/i386 (32-bit)
# Running under: Windows 7 x64 (build 7601) Service Pack 1
# 
# locale:
#   [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252 LC_NUMERIC=C                          
# [5] LC_TIME=English_United States.1252    
# 
# attached base packages:
#   [1] stats     graphics  grDevices utils     datasets  methods   base     
# 
# other attached packages:
#   [1] tidyr_0.4.0 dplyr_0.4.3
# 
# loaded via a namespace (and not attached):
#   [1] lazyeval_0.1.10  magrittr_1.5     R6_2.1.2         assertthat_0.1   parallel_3.2.3   DBI_0.3.1        tools_3.2.3      Rcpp_0.12.3      data.table_1.9.6
# [10] chron_2.3-47 

rm(list = ls())

#define home directory
homedir <- "//EDU-FileServer/HomeDirs/dduffy/My Documents/Data/State DSRs/State DSR/MN Home Brewed Growth Tables/Growth Tables Files/Growth Tables"

#Check if packages are install and then install any packages needed to run program
packages <- c("dplyr", "tidyr", "RODBC")

for(package in packages){
  
  if(package %in% rownames(installed.packages()) == F){
    
    install.packages(package)
    
  }
  
}

#load packages
lapply(packages, library, character.only = T)

#Define list of starting grades
GRADES <- c("KG", "FIRST", "SECOND", "THIRD", "FOURTH", "FIFTH", "SIXTH", "SEVENTH", "EIGHTH", "HS")

#Define list of domains
DOMAINS = c("COMPOSITE", "LISTENING", "SPEAKING", "READING", "WRITING")

#Define list of years
YEARS = c("2016", "2015", "2014", "2013")


#connect to database
db <- odbcDriverConnect("Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=//EDU-FileServer/HomeDirs/dduffy/My Documents/Data/State DSRs/State DSR/MN Home Brewed Growth Tables/Growth Tables Files/GrowthTableDatabase.accdb")

#create list of tables to use for growth calculation
growth_tables <- c("Student_Growth_2013", "Student_Growth_2014", "Student_Growth_2015", "Student_Growth_2016")



































